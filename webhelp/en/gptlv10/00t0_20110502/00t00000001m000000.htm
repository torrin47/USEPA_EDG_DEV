<html lang="en" xml:lang="en"><head>
<META http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"><META name="description" content="Overview"><meta name="content-language" content="en"><link href="rsrc/htmlhelp.css" rel="stylesheet" type="text/css"><title>Geoportal Server - 
Index All Metadata Content</title><script type="text/javascript" language="JavaScript">
                    var pathL  = self.location.pathname.split ("/");
                    var fname = pathL[pathL.length-1];
                    var i = fname.lastIndexOf (".html");
                    if (i>=0) {
                    fname = fname.substring (0, i)
                    } else {
                    //??
                    }
                    self.location.replace ("../index.html#//" + fname);
                </script></head><!--Publication GUID: [GUID-4DA02BE7-AD9D-4B8F-8F2F-03A1389F0D20]--><!--Topic GUID: [GUID-914C8745-8A16-4BC7-ADF1-B3C01AEB8F16]--><body><div id="content"><div class="header"><h1>
Index All Metadata Content</h1><div id="breadcrumb"></div></div>
		<p id="GUID-E82EC94A-A3A3-494A-A591-07AD2699B7F3">Before undertaking this customization, you should be familiar with the information presented in the <a class="xref" rel="00t0/00t00000003n000000.htm" href="00t0/00t00000003n000000.htm">Details of Lucene Indexing in the Geoportal</a> and the <a class="xref" rel="00t0/00t000000022000000.htm" href="00t0/00t000000022000000.htm">Add a Custom Profile</a> topics. 
Indexing is important because it determines what search results are returned when a user submits search criteria to the geoportal. By default, not all metadata elements are indexed by the geoportal. The Geoportal Server is set to index information in a metadata document that meets two criteria:<ul purpose="ul" id="UL_066D30F6C25F4914B5BBCC5093C019A7"><li purpose="li" id="LI_DDAE6E76898843A297AB8109DD67811D">the information must be located at a parameter defined in its metadata profile's <i>definition.xml</i> file.  If the metadata cannot be mapped to a parameter in <i>definition.xml</i> file, it cannot be indexed.</li><li purpose="li" id="LI_23F025E253484AF7BD90366E2D0AA5D4">that associated parameter in the profile's <i>definition.xml</i> file must have a <span class="uicontrol">meaning</span> attribute assigned to it as defined in that profile's <i>indexables.xml</i> file.
</li></ul>

There are advantages to only indexing certain pieces of information. One is that the Lucene index will not be as large if only certain information is indexed. This facilitates faster searching. Also, some information included in metadata is not useful for text-based searching. For example, if the metadata record contains a thumbnail, there is no need to index the thumbnail binary section in the metadata because users are not going to search for characters within the binary. Also, specifying that only specific information be indexed provides control over the search results. A user searching for "New York" may want to retrieve results with "New York" in the title and abstract, not the Point of Contact's address information.

</p><p id="GUID-E5FE5955-25BA-4075-A1AC-EECC3870FF28">However, if it is very important to your organization that all information in a metadata document is searchable, then you will want to index all metadata content. Follow the steps below.<ol purpose="ol" id="OL_0D77317677E54AA194825CDA0547B5D7"><li purpose="li" id="LI_5E2CDBC3A6194505AEAC7B77CB503513">You will need to add an additional parameter to the <i>indexables.xml</i> file for the profile for which you want to index all content. Open the <i>indexables.xml</i> file for that profile in a text editor, and scroll to the bottom of the file.</li><li purpose="li" id="LI_2D9AED124F344CCEBBE5654967B51BEE">Add a line before the closing <span class="uicontrol">&lt;/indexables&gt;</span> tag that reads:<pre class="lines" purpose="lines"> &lt;property meaning="body" xpath="/rdf:RDF/rdf:Description/*"/&gt;</pre></li><li purpose="li" id="LI_48E3BEBCF0E74FBC9C865FDA1C2ACBED">This example shows the <span class="uicontrol">xpath</span> value pointing to a large portion of the Dublin Core metadata profile. You will need to update the <span class="uicontrol">xpath</span> attribute to match an <span class="uicontrol">xpath</span> that encompasses all elements in your profile of interest. For example, for ISO-based profiles, this <span class="uicontrol">xpath</span> attribute should read <i>xpath="/gmd:MD_Metadata/*"</i></li><li purpose="li" id="LI_6986A93722F948DAAA712A3B71AEAEC8">Update the xpath attribute's value to support your profile of interest.</li><li purpose="li" id="LI_40F03BC634344E0D8BD65A3960881EA6"> Save the file <i>indexables.xml</i>. </li><li purpose="li" id="LI_0A9B3464EC7F464FB6E9ED47CF4F232B"> Repeat for each supported profile in your geoportal for which you want to index all content.</li><li purpose="li" id="LI_00C3562A67FF4F9F85D556A43BB81E3E"> Stop the geoportal web application.</li><li purpose="li" id="LI_BD32EADDE1E24E0B9C7FF99B3556FD49"> Navigate to the folder defined for the lucene index. This is the filepath located at the <span class="uicontrol">&lt;lucene&gt;</span> element's <i>indexLocation</i> attribute in the <i>gpt.xml</i> file (from the <i>\\geoportal\WEB-INF\classes\gpt\config</i> folder).</li><li purpose="li" id="LI_2BCC538AAF6F4444B4B777914FCB0252"> You need to clear the old index and create a new one. You can do this by either deleting all the old files from the lucene indexing folder, or you can create a new folder and update the filepath in the <span class="uicontrol">&lt;lucene&gt;</span> element in <i>gpt.xml</i>.</li><li purpose="li" id="LI_4AB81F2657D14EB5B36CA8629D16808A"> Save <i>gpt.xml</i> if you made changes to the <span class="uicontrol">&lt;lucene&gt;</span> element.</li><li purpose="li" id="LI_DA4C263348A543EDA45BA9D0C17E7B8A"> Start the geoportal web application. If you created a new folder for the indexLocation, then the documents will be reindexed automatically since the lucene folder location changed. This may take some time, so do not be alarmed if immediately you do not see search results. If instead you cleared out the old index by deleting the index files, then the documents may need to be re-approved to be reindexed.</li></ol></p>
	<br><div class="footer"> Copyright © 1995-2010 Esri. All rights reserved. </div></div></body></html>
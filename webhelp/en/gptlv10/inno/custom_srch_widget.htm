<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
             
<html>

         <head>
         <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
         <title>Embed the Geoportal Extension Search Widget in Another Page</title>
         <link href="shbasic.css" type="text/css" rel="stylesheet" />
<link href="webhelp.css" type="text/css" rel="stylesheet" />
         <script language="javascript" type="text/javascript" src="webhelp.js"></script>
         </head>
      
<body onload="ifWebPrint()">
<table  class="wh_title" cellpadding="0" cellspacing="0">
   <tr>
      <td valign="top" colspan="2">
         <h1>Embed the Geoportal Extension Search Widget in Another Page</h1>
      </td>
   </tr>
   <tr>
      <td>Release 9.3.1</td>
      <td align="right">
         <a id="wpart0" href="#" onclick="javascript:genEmailLink(this)">
            <img border="0" src="email_text.gif" alt="E-mail This Topic"/>
         </a>
         <a id="wpart1" href="#" onclick="javascript:printTopic();">
            <img border="0" src="printable.gif" alt="Printable Version"/>
         </a>
         <a id="wpart2" href="http://support.esri.com/index.cfm?fa=homepage.feedback.websiteform" target="_blank">
            <img border="0" src="feedback_text.gif" alt="Give Us Feedback"/>
         </a>
      </td>
   </tr>
</table>
<div class="page_content">
<h2>Embed the Geoportal Extension Search Widget in Another Page</h2>

<p>It is possible to search the Geoportal from another web page or application. The Geoportal extension search widget is a component that can easily be included as shown below.  Users can type a search term or <a href="srch_lucene.htm"> lucene search query</a> in the search field, and retrieve a pop-up list of records that match that search. To see an example, type the following url into a browser:<br></br>
<br></br>
<code>https://geogateway.epa.gov/geoportal/widgets/example.jsp</code>
<br></br>
<br></br>
<i>Search widget that appears on web page:</i>
<br></br>
<br></br>
<img src="portl_custom_srchwdgt1.png" class="img_inline"></img>
<br></br>
<br></br>
<i>Pop-up window displaying search results:</i>
<br></br>
<br></br>
<img src="portl_custom_srchwdgt2.png" class="img_inline"></img>
<br></br>
<br></br>
<b>How to Configure</b>
<br></br>Installing the search widget consists of copying two lines of code and pasting it into the HTML page where you want the widget to appear. The first line of code references the JavaScript API that contains required tools for the search widget. The second line of code references the Geoportal catalog and provides the medium for searching. In the second line of code, replace "server_name" with your organization's Geoportal server.<br></br>
<br></br>
<code>&lt;!-- Catalog Search Widget --&gt; <br></br>&lt;script type="text/javascript" <br></br>   src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=1.3"&gt;&lt;/script&gt;<br></br>
<br></br>&lt;script type="text/javascript"<br></br>   src="https://geogateway.epa.gov/geoportal/widgets/searchjs.jsp"&gt;&lt;/script&gt;</code>
<br></br>
<br></br>
<b>Additional Installation Options</b>
<br></br>Supported search option parameters are:<ul>
<li>anchor  (fieldset,button,link &#8211; default is fieldset)</li>
<li>hasFramework (dojo framework is already loaded)</li>
<li>contentType (delimited list)</li>
<li>isPartOf (collection name)</li>
<li>max (max records to return, default = 30)</li>
<li>data category</li>
<li>bbox</li>
<li>spatial relationship: such as intersect</li>
<li>publisher</li>
<li>source: harvesting site id</li>
<li>orderBy</li>
<li>after: published after</li>
<li>before: published before</li>
</ul>
<br></br>For example, to render the widget as a link and return only ten records, use the following link for the widget URL:<br></br>
<br></br>
<code>http://server_name/geoportal/widgets/searchjs.jsp?anchor=link&amp;max=10</code>
<br></br>
<br></br>Or when wanting to search all content of the Geoportal for a certain geography, such as the State of Delaware, use the following link for the widget URL:<br></br>
<br></br>
<code>http://server_name/geoportal/widgets/searchjs.jsp?bbox=-79.71068%2C36.989765%2C-74.81832%2C40.659035&amp;spatialRel=esriSpatialRelWithin</code>
<br></br>
<br></br>
<b>Tip:</b> To determine the widget URL, perform the type of search you are interested in using the advanced search options and then look at the results as a GeoRSS feed. The URL that is displayed in the browser's address bar will show the proper values for the optional parameters listed above.</p>
</div>
<div id="wh_footer" class="wh_footer" align="center" >
   Please visit the <a href="http://support.esri.com/index.cfm?fa=homepage.feedback.websiteform" target="_blank">Feedback</a> page to comment or give suggestions.<br>
   Copyright &copy; Environmental Systems Research Institute, Inc.
</div> 

</body>
</html>
